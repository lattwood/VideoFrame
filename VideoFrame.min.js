var VideoFrame=function(e){return this===window?new VideoFrame(e):(this.obj=e||{},this.frameRate=this.obj.frameRate||24,void(this.video=document.getElementById(this.obj.id)||document.getElementsByTagName("video")[0]))},FrameRates={film:24,NTSC:29.97,NTSC_Film:23.98,NTSC_HD:59.94,PAL:25,PAL_HD:50,web:30,high:60};VideoFrame.prototype={get:function(){return Math.floor(this.video.currentTime.toFixed(5)*this.frameRate)},listen:function(e,t){var r=this;return e?void(this.interval=setInterval(function(){if(!r.video.paused&&!r.video.ended){var t="SMPTE"===e?r.toSMPTE():"time"===e?r.toTime():r.get();return r.obj.callback&&r.obj.callback(t,e),t}},t?t:1e3/r.frameRate/2)):void console.log("VideoFrame: Error - The listen method requires the format parameter.")},stopListen:function(){var e=this;clearInterval(e.interval)},fps:FrameRates},VideoFrame.prototype.toTime=function(e){function t(e){return 10>e?"0"+e:e}var r="number"!=typeof e?this.video.currentTime:e,i=this.frameRate,o=new Date,s="hh:mm:ss"+("number"==typeof e?":ff":"");return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(1e3*r),s.replace(/hh|mm|ss|ff/g,function(e){switch(e){case"hh":return t(o.getHours()<13?o.getHours():o.getHours()-12);case"mm":return t(o.getMinutes());case"ss":return t(o.getSeconds());case"ff":return t(Math.floor(r%1*i))}})},VideoFrame.prototype.toSMPTE=function(e){function t(e){return 10>e?"0"+e:e}if(!e)return this.toTime(this.video.currentTime);var r=Number(e),i=this.frameRate,o=60*i*60,s=60*i,n=(r/o).toFixed(0),a=Number((r/s).toString().split(".")[0])%60,u=Number((r/i).toString().split(".")[0])%60,m=t(n)+":"+t(a)+":"+t(u)+":"+t(r%i);return m},VideoFrame.prototype.toSeconds=function(e){if(!e)return Math.floor(this.video.currentTime);var t=e.split(":");return 60*Number(t[0])*60+60*Number(t[1])+Number(t[2])},VideoFrame.prototype.toMilliseconds=function(e){var t=e?Number(e.split(":")[3]):Number(this.toSMPTE().split(":")[3]),r=1e3/this.frameRate*(isNaN(t)?0:t);return Math.floor(1e3*this.toSeconds(e)+r)},VideoFrame.prototype.toFrames=function(e){var t=e?e.split(":"):this.toSMPTE().split(":"),r=this.frameRate,i=60*Number(t[0])*60*r,o=60*Number(t[1])*r,s=Number(t[2])*r,n=Number(t[3]);return Math.floor(i+o+s+n)},VideoFrame.prototype.__seek=function(e,t){this.video.paused||this.video.pause();var r=Number(this.get());this.video.currentTime=("backward"===e?r-t:r+t)/this.frameRate+1e-5},VideoFrame.prototype.seekForward=function(e,t){return e||(e=1),this.__seek("forward",Number(e)),t?t():!0},VideoFrame.prototype.seekBackward=function(e,t){return e||(e=1),this.__seek("backward",Number(e)),t?t():!0},VideoFrame.prototype.seekTo=function(e){var t,r,i=e||{},o=Object.keys(i)[0];if("SMPTE"==o||"time"==o)return r=i[o],t=this.toMilliseconds(r)/1e3+.001,void(this.video.currentTime=t);switch(o){case"frame":r=this.toSMPTE(i[o]),t=this.toMilliseconds(r)/1e3+.001;break;case"seconds":t=Number(i[o]);break;case"milliseconds":t=Number(i[o])/1e3+.001}isNaN(t)||(this.video.currentTime=t)};
//# sourceMappingURL=VideoFrame.min.js.map